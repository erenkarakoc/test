@php
  use Illuminate\Support\Facades\Auth;
  use App\Models\UserBalances;
  use App\Models\MarketData;

  $configData = Helper::appClasses();

  // Determine active/inactive wallets
  $activeWallets = collect($wallet)->where('active', true);
  $inactiveWallets = collect($wallet)->where('active', false);

  // Determine existing wallet labels
  $existingLabels = [];
  if ($activeWallets->isNotEmpty()) {
      $existingLabels = $activeWallets->pluck('label')->filter()->values()->toArray();
  }

  // Determine missing assets in wallet
  $missingAssetsInWallet = [];
  foreach ($assets as $asset) {
      $found = false;

      foreach ($wallet as $walletItem) {
          if ($walletItem['symbol'] === $asset['symbol']) {
              $found = true;
              break;
          }
      }
      if (!$found) {
          $missingAssetsInWallet[] = $asset;
      }
  }

  // Get user balances
  $user = Auth::user();
  $userId = $user->id;
  $userBalances = UserBalances::where('user_id', $userId)->get();

  $walletIcons = [
      'USD' =>
          '<svg width="36" height="36" viewBox="0 0 60 60" fill="none" xmlns="http://www.w3.org/2000/svg"><path opacity="0.45" fill-rule="evenodd" clip-rule="evenodd" d="M30 60C46.5685 60 60 46.5685 60 30C60 13.4315 46.5685 0 30 0C13.4315 0 0 13.4315 0 30C0 46.5685 13.4315 60 30 60Z" fill="#00FF2F"/><path d="M29.1429 46V43.3986C23.4664 43.0714 20.0179 40.1471 20 35.7143H25.1429C25.2693 37.5957 26.8471 39.0321 29.1429 39.2857V32.2857L27.2307 31.7857C22.8736 30.7729 20.5421 28.2579 20.5421 24.4943C20.5421 20.0579 23.72 17.1486 29.1429 16.7143V14H31.4286V16.7143C36.9564 17.1643 39.9286 20.1243 40 24.2857H34.8571C34.8029 22.5671 33.7264 21.1864 31.4286 21V27.5714L33.63 28.0914C38.2579 29.1043 40.5714 31.5 40.5714 35.4286C40.5714 40.0243 37.4471 42.9914 31.4286 43.38V46H29.1429ZM29.1429 27.1429V21C27.1721 21.1086 25.7664 22.3193 25.7664 24.0379C25.7664 25.6307 26.9371 26.6721 29.1429 27.1429ZM31.4286 32.7143V39.2857C34.1536 39.1757 35.4557 37.9343 35.4557 36.0164C35.4557 34.2607 34.1536 33.0786 31.4286 32.7143Z" fill="#E3FFEE"/></svg>',
      'USDT' =>
          '<svg width="36" height="36" viewBox="0 0 26 26" fill="none" xmlns="http://www.w3.org/2000/svg"><path opacity="0.6" d="M25.8629 12.9314C25.8629 20.0733 20.0733 25.863 12.9315 25.863C5.78959 25.863 0 20.0733 0 12.9314C0 5.7896 5.78959 0 12.9315 0C20.0733 0 25.8629 5.7896 25.8629 12.9314" fill="#3EEF44"/><path d="M11.6055 12.7063V10.4439H8.53711V8.46094H17.1114V10.4719H14.043V12.7063H11.6055Z" fill="#F2FFF4"/><path fill-rule="evenodd" clip-rule="evenodd" d="M7.21777 12.9584C7.21777 12.2043 9.68395 11.5898 12.7523 11.5898C15.8207 11.5898 18.2869 12.2043 18.2869 12.9584C18.2869 13.7125 15.8207 14.327 12.7523 14.327C9.68395 14.327 7.21777 13.7125 7.21777 12.9584ZM17.8281 12.9584C17.6273 12.6791 15.9641 11.8133 12.7523 11.8133C9.54057 11.8133 7.87733 12.6512 7.6766 12.9584C7.87733 13.2377 9.54057 13.6566 12.7523 13.6566C15.9928 13.6566 17.6273 13.2377 17.8281 12.9584Z" fill="#F2FFF4"/><path d="M14.0426 13.4051V11.841C13.6411 11.8131 13.211 11.7852 12.7808 11.7852C12.3794 11.7852 12.0066 11.7852 11.6338 11.8131V13.3771C11.9779 13.3771 12.3794 13.4051 12.7808 13.4051C13.211 13.433 13.6411 13.433 14.0426 13.4051Z" fill="#F2FFF4"/><path d="M12.7525 14.3273C12.3511 14.3273 11.9783 14.3273 11.6055 14.2994V18.4609H14.0143V14.2715C13.6128 14.2994 13.1827 14.3273 12.7525 14.3273Z" fill="#F2FFF4"/></svg>',
      'TRX' =>
          '<svg width="36" height="36" viewBox="0 0 26 26" fill="none" xmlns="http://www.w3.org/2000/svg"><path opacity="0.2" d="M25.9293 12.9998C25.9293 20.1417 20.1397 25.9314 12.9979 25.9314C5.856 25.9314 0.0664062 20.1417 0.0664062 12.9998C0.0664062 5.85795 5.856 0.0683594 12.9979 0.0683594C20.1397 0.0683594 25.9293 5.85795 25.9293 12.9998" fill="#D13437"/><path fill-rule="evenodd" clip-rule="evenodd" d="M8.09936 7.13424C8.14628 7.07984 8.20626 7.03974 8.27298 7.01812C8.3397 6.99651 8.41073 6.99418 8.4786 7.01139L16.6484 9.11605C16.6978 9.12905 16.7431 9.15115 16.7843 9.18235L18.4464 10.4576C18.5276 10.5201 18.5826 10.6133 18.5997 10.7176C18.6167 10.822 18.5945 10.9292 18.5378 11.0166L12.8195 19.8213C12.7793 19.8837 12.7235 19.9332 12.6582 19.9641C12.5928 19.9951 12.5206 20.0063 12.4496 19.9966C12.3786 19.9869 12.3115 19.9566 12.2559 19.9091C12.2002 19.8617 12.1582 19.7989 12.1345 19.7277L8.02215 7.54373C7.99894 7.47446 7.99386 7.3999 8.00744 7.32785C8.02102 7.25581 8.05277 7.18893 8.09936 7.13424ZM9.44832 9.33314L12.3031 17.7914L12.7726 13.4079L9.44832 9.33314ZM13.5372 13.549L13.0598 18.0085L17.098 11.7901L13.5372 13.549ZM17.4624 10.7105L14.859 11.9961L16.6045 10.0527L17.4624 10.7105ZM15.8182 9.74133L9.46685 8.10467L13.1907 12.6689L15.8182 9.74133Z" fill="#FD3D40"/></svg>',
      'BTC' =>
          '<svg width="36" height="36" viewBox="0 0 26 26" fill="none" xmlns="http://www.w3.org/2000/svg"><path opacity="0.2" d="M25.6104 16.145C23.874 23.1094 16.8199 27.3474 9.85476 25.6111C2.89286 23.8747 -1.34555 16.8206 0.391171 9.85668C2.12667 2.89152 9.18039 -1.34729 16.1435 0.389023C23.1083 2.12534 27.3463 9.18027 25.61 16.145H25.6104Z" fill="#F7931A"/><path fill-rule="evenodd" clip-rule="evenodd" d="M17.9727 11.2145C18.1922 9.74539 17.0736 8.95564 15.5441 8.42879L16.0403 6.43871L14.8285 6.13681L14.3455 8.07445C14.0274 7.9951 13.7003 7.92023 13.3753 7.84605L13.8618 5.89564L12.6511 5.59375L12.1546 7.58314C11.891 7.52311 11.6323 7.46376 11.3811 7.40132L11.3825 7.39511L9.71188 6.97798L9.38963 8.2718C9.38963 8.2718 10.2884 8.47778 10.2694 8.49055C10.7601 8.61303 10.8491 8.9377 10.8339 9.19508L10.2687 11.4622C10.3026 11.4708 10.3464 11.4833 10.3947 11.5026L10.267 11.4708L9.4745 14.6468C9.41447 14.7958 9.26232 15.0194 8.91937 14.9345C8.93144 14.9521 8.03887 14.7147 8.03887 14.7147L7.4375 16.1017L9.01425 16.4947C9.19224 16.5393 9.36807 16.5852 9.54198 16.6305L9.54222 16.6306C9.65476 16.66 9.7665 16.6891 9.87749 16.7176L9.37617 18.7308L10.5862 19.0327L11.083 17.0412C11.4132 17.1309 11.734 17.2137 12.048 17.2917L11.5533 19.2738L12.7646 19.5757L13.2659 17.5667C15.3316 17.9576 16.8852 17.7999 17.5383 15.932C18.0652 14.4277 17.5125 13.5599 16.4256 12.9938C17.2171 12.8106 17.8133 12.2899 17.9724 11.2145H17.9727ZM15.2043 15.0965C14.8604 16.4771 12.6989 15.9059 11.7108 15.6447C11.6223 15.6213 11.5432 15.6004 11.4757 15.5836L12.1409 12.917C12.2234 12.9376 12.3242 12.9602 12.4384 12.9858L12.4384 12.9858C13.4607 13.2152 15.5557 13.6853 15.2047 15.0965H15.2043ZM12.6442 11.7468C13.4687 11.9668 15.2659 12.4463 15.579 11.1921C15.8991 9.90894 14.1515 9.52221 13.298 9.33334C13.2021 9.31211 13.1174 9.29337 13.0483 9.27615L12.4452 11.6947C12.5022 11.709 12.5692 11.7268 12.6442 11.7468Z" fill="#F7931A"/></svg>',
      'ETH' =>
          '<svg width="36" height="36" viewBox="0 0 26 26" fill="none" xmlns="http://www.w3.org/2000/svg"><path opacity="0.2" d="M25.9293 12.9998C25.9293 20.1417 20.1397 25.9314 12.9979 25.9314C5.856 25.9314 0.0664062 20.1417 0.0664062 12.9998C0.0664062 5.85795 5.856 0.0683594 12.9979 0.0683594C20.1397 0.0683594 25.9293 5.85795 25.9293 12.9998" fill="#505050"/><g opacity="0.8"><path d="M12.9563 7L12.8765 7.27148V15.1493L12.9563 15.229L16.6131 13.0675L12.9563 7Z" fill="white"/><path d="M12.9566 7L9.2998 13.0675L12.9566 15.229V11.4054V7Z" fill="white"/><path d="M12.9566 16.4182L12.9116 16.4731V19.2794L12.9566 19.4108L16.6156 14.2578L12.9566 16.4182Z" fill="white"/><path d="M12.9566 19.4108V16.4182L9.2998 14.2578L12.9566 19.4108Z" fill="white"/><path d="M12.9565 15.2298L16.6133 13.0684L12.9565 11.4062V15.2298Z" fill="white"/><path d="M9.2998 13.0684L12.9565 15.2299V11.4062L9.2998 13.0684Z" fill="white"/></g></svg>',
      'ETC' =>
          '<svg width="36" height="36" viewBox="0 0 26 26" fill="none" xmlns="http://www.w3.org/2000/svg"><path opacity="0.1" d="M13 26C20.1797 26 26 20.1797 26 13C26 5.8203 20.1797 0 13 0C5.8203 0 0 5.8203 0 13C0 20.1797 5.8203 26 13 26Z" fill="#3AB83A"/><mask id="mask0_0_1" style="mask-type:luminance" maskUnits="userSpaceOnUse" x="0" y="0" width="26" height="26"><path d="M13 26C20.1797 26 26 20.1797 26 13C26 5.8203 20.1797 0 13 0C5.8203 0 0 5.8203 0 13C0 20.1797 5.8203 26 13 26Z" fill="white"/></mask><g mask="url(#mask0_0_1)"><path fill-rule="evenodd" clip-rule="evenodd" d="M10 12.326L13.5144 10.0416L17 12.3402L13.499 6L10 12.326ZM10.1341 12.9858L13.5182 10.7557L16.8583 12.9693L13.5201 15.2017L10.1341 12.9858ZM10 13.6243C11.2334 14.4331 12.5204 15.2797 13.5144 15.9348L17 13.6243C15.7379 15.9395 14.6865 17.8669 13.5144 20L12.7957 18.6974C11.8301 16.9471 10.8343 15.1422 10 13.6243Z" fill="#3AB83A"/><path fill-rule="evenodd" clip-rule="evenodd" d="M13.5 6L13.5131 10.0416L17 12.3402L13.5 6ZM13.5164 10.7557L16.8786 12.9693L13.5181 15.2017L13.5164 10.7557ZM13.5131 15.9348L17 13.6243C15.9185 15.9395 13.5131 20 13.5131 20V15.9348Z" fill="#0B8311"/></g></svg>',
      'BNB' =>
          '<svg width="36" height="36" viewBox="0 0 26 26" fill="none" xmlns="http://www.w3.org/2000/svg"><g clip-path="url(#clip0_873_2)"><path opacity="0.2" d="M13 26C20.1797 26 26 20.1797 26 13C26 5.8203 20.1797 0 13 0C5.8203 0 0 5.8203 0 13C0 20.1797 5.8203 26 13 26Z" fill="#F3BA2F"/><path fill-rule="evenodd" clip-rule="evenodd" d="M10.2822 11.8826L13.0013 9.16468L15.7216 11.8848L17.3029 10.3025L13.0013 6L8.69981 10.3014L10.2822 11.8826ZM6 13.0002L7.58181 11.4185L9.16362 13.0002L7.58181 14.582L6 13.0002ZM13.0013 16.8364L10.2822 14.1174L8.69759 15.6975L8.69981 15.6997L13.0013 20L17.3029 15.6975L17.304 15.6964L15.7216 14.1163L13.0013 16.8364ZM16.8364 13.0006L18.4182 11.4189L20 13.0006L18.4182 14.5824L16.8364 13.0006ZM13.0013 11.3939L14.6058 12.9994H14.607L14.6058 13.0006L13.0013 14.6061L11.3968 13.0028L11.3946 12.9994L11.3968 12.9972L11.6777 12.7164L11.8148 12.5804L13.0013 11.3939Z" fill="#F3BA2F"/></g><defs><clipPath id="clip0_873_2"><rect width="26" height="26" fill="white"/></clipPath></defs></svg>',
      'LTC' =>
          '<svg width="36" height="36" viewBox="0 0 26 26" fill="none" xmlns="http://www.w3.org/2000/svg"><path opacity="0.2" d="M25.9293 12.9998C25.9293 20.1417 20.1397 25.9314 12.9979 25.9314C5.856 25.9314 0.0664062 20.1417 0.0664062 12.9998C0.0664062 5.85795 5.856 0.0683594 12.9979 0.0683594C20.1397 0.0683594 25.9293 5.85795 25.9293 12.9998" fill="#4291DB"/><path d="M12.5459 15.1759L13.126 12.9914L14.4995 12.4896L14.8411 11.2059L14.8295 11.174L13.4775 11.6679L14.4516 8H11.689L10.4151 12.7867L9.35145 13.1753L9 14.4988L10.0628 14.1105L9.31201 16.9316H16.6644L17.1357 15.1759H12.5459Z" fill="#E4E4E4"/></svg>',
      'GDZ' =>
          '<svg width="36" height="36" viewBox="0 0 26 26" fill="none" xmlns="http://www.w3.org/2000/svg"><path opacity="0.4" d="M13 26C20.1797 26 26 20.1797 26 13C26 5.8203 20.1797 0 13 0C5.8203 0 0 5.8203 0 13C0 20.1797 5.8203 26 13 26Z" fill="#7e3eff"/><mask id="mask0_0_1" style="mask-type:luminance" maskUnits="userSpaceOnUse" x="0" y="0" width="26" height="26"><path d="M13 26C20.1797 26 26 20.1797 26 13C26 5.8203 20.1797 0 13 0C5.8203 0 0 5.8203 0 13C0 20.1797 5.8203 26 13 26Z" fill="white"/></mask><g mask="url(#mask0_0_1)"><path d="M7 11.5C8.19347 11.5 9.33807 11.0259 10.182 10.182C11.0259 9.33807 11.5 8.19347 11.5 7L14.5 7V11.5H19V14.5C17.8065 14.5 16.6619 14.9741 15.818 15.818C14.9741 16.6619 14.5 17.8065 14.5 19L11.5 19V14.5H7L7 11.5Z" fill="white"/></g></svg>',
  ];

  $walletIconSymbols = [
      'USD' =>
          '<svg width="36" height="36" viewBox="0 0 60 60" fill="none" xmlns="http://www.w3.org/2000/svg"><path d="M29.1429 46V43.3986C23.4664 43.0714 20.0179 40.1471 20 35.7143H25.1429C25.2693 37.5957 26.8471 39.0321 29.1429 39.2857V32.2857L27.2307 31.7857C22.8736 30.7729 20.5421 28.2579 20.5421 24.4943C20.5421 20.0579 23.72 17.1486 29.1429 16.7143V14H31.4286V16.7143C36.9564 17.1643 39.9286 20.1243 40 24.2857H34.8571C34.8029 22.5671 33.7264 21.1864 31.4286 21V27.5714L33.63 28.0914C38.2579 29.1043 40.5714 31.5 40.5714 35.4286C40.5714 40.0243 37.4471 42.9914 31.4286 43.38V46H29.1429ZM29.1429 27.1429V21C27.1721 21.1086 25.7664 22.3193 25.7664 24.0379C25.7664 25.6307 26.9371 26.6721 29.1429 27.1429ZM31.4286 32.7143V39.2857C34.1536 39.1757 35.4557 37.9343 35.4557 36.0164C35.4557 34.2607 34.1536 33.0786 31.4286 32.7143Z" fill="white"/></svg>',
      'USDT' =>
          '<svg width="36" height="36" viewBox="0 0 26 26" fill="none" xmlns="http://www.w3.org/2000/svg"><path d="M11.4579 12.6087V10.0549H7.99414V7.81641H17.6732V10.0864H14.2094V12.6087H11.4579Z" fill="white"/><path fill-rule="evenodd" clip-rule="evenodd" d="M6.50488 12.8925C6.50488 12.0413 9.28882 11.3477 12.7526 11.3477C16.2163 11.3477 19.0002 12.0413 19.0002 12.8925C19.0002 13.7438 16.2163 14.4374 12.7526 14.4374C9.28882 14.4374 6.50488 13.7438 6.50488 12.8925ZM18.4825 12.8917C18.2559 12.5764 16.3783 11.599 12.7527 11.599C9.12714 11.599 7.24961 12.5449 7.02301 12.8917C7.24961 13.2069 9.12714 13.6799 12.7527 13.6799C16.4107 13.6799 18.2559 13.2069 18.4825 12.8917Z" fill="white"/><path d="M14.2094 13.399V11.6334C13.7562 11.6018 13.2707 11.5703 12.7851 11.5703C12.3319 11.5703 11.9111 11.5703 11.4902 11.6018V13.3674C11.8787 13.3674 12.3319 13.399 12.7851 13.399C13.2707 13.4305 13.7562 13.4305 14.2094 13.399Z" fill="white"/><path d="M12.7529 14.44C12.2997 14.44 11.8788 14.44 11.458 14.4085V19.1062H14.1772V14.377C13.724 14.4085 13.2384 14.44 12.7529 14.44Z" fill="white"/></svg>',
      'TRX' =>
          '<svg width="36" height="36" viewBox="0 0 26 26" fill="none" xmlns="http://www.w3.org/2000/svg"><path fill-rule="evenodd" clip-rule="evenodd" d="M17.9727 11.2145C18.1922 9.74539 17.0736 8.95564 15.5441 8.42879L16.0403 6.43871L14.8285 6.13681L14.3455 8.07445C14.0274 7.9951 13.7003 7.92023 13.3753 7.84605L13.8618 5.89564L12.6511 5.59375L12.1546 7.58314C11.891 7.52311 11.6323 7.46376 11.3811 7.40132L11.3825 7.39511L9.71188 6.97798L9.38963 8.2718C9.38963 8.2718 10.2884 8.47778 10.2694 8.49055C10.7601 8.61303 10.8491 8.9377 10.8339 9.19508L10.2687 11.4622C10.3026 11.4708 10.3464 11.4833 10.3947 11.5026L10.267 11.4708L9.4745 14.6468C9.41447 14.7958 9.26232 15.0194 8.91937 14.9345C8.93144 14.9521 8.03887 14.7147 8.03887 14.7147L7.4375 16.1017L9.01425 16.4947C9.19222 16.5393 9.36802 16.5852 9.5419 16.6305L9.54198 16.6305C9.6546 16.6599 9.76642 16.6891 9.87749 16.7176L9.37617 18.7308L10.5862 19.0327L11.083 17.0412C11.4132 17.1309 11.734 17.2137 12.048 17.2917L11.5533 19.2738L12.7646 19.5757L13.2659 17.5667C15.3316 17.9576 16.8852 17.7999 17.5383 15.932C18.0652 14.4277 17.5125 13.5599 16.4256 12.9938C17.2171 12.8106 17.8133 12.2899 17.9724 11.2145H17.9727ZM15.2043 15.0965C14.8604 16.4771 12.6989 15.9059 11.7108 15.6447C11.6223 15.6213 11.5432 15.6004 11.4757 15.5836L12.1409 12.917C12.2234 12.9376 12.3242 12.9602 12.4384 12.9858L12.4384 12.9858C13.4607 13.2152 15.5557 13.6853 15.2047 15.0965H15.2043ZM12.6442 11.7468C13.4687 11.9668 15.2659 12.4463 15.579 11.1921C15.8991 9.90894 14.1515 9.52221 13.298 9.33334C13.2021 9.31211 13.1174 9.29337 13.0483 9.27615L12.4452 11.6947C12.5022 11.709 12.5692 11.7268 12.6442 11.7468Z" fill="white"/></svg>',
      'BTC' =>
          '<svg width="36" height="36" viewBox="0 0 26 26" fill="none" xmlns="http://www.w3.org/2000/svg"><path d="M16.632 18.4035L16.3336 17.0485C16.3167 16.9688 16.274 16.9091 16.2057 16.8695C16.1318 16.8297 16.058 16.8241 15.9842 16.8526L15.9415 16.8695L15.8391 16.895C15.7936 16.9063 15.7411 16.9192 15.6814 16.9333C15.6218 16.9476 15.5523 16.9616 15.4726 16.9759C15.3934 16.9901 15.3092 17.003 15.2213 17.0144C15.1333 17.0255 15.0383 17.0356 14.9359 17.0442C14.8335 17.0526 14.7314 17.0569 14.629 17.0569C13.9074 17.0569 13.2582 16.8623 12.6816 16.4731C12.1049 16.0838 11.6802 15.5568 11.4075 14.8922H14.7056C14.7682 14.8922 14.825 14.871 14.876 14.8282C14.9273 14.7857 14.9585 14.7332 14.9697 14.6705L15.1742 13.716C15.1913 13.631 15.1742 13.5542 15.1232 13.4859C15.0664 13.4177 14.9952 13.3836 14.9101 13.3836H10.9985C10.9814 12.9972 10.9814 12.699 10.9985 12.4887H15.1574C15.311 12.4887 15.4018 12.4149 15.4302 12.2672L15.6347 11.2956C15.6516 11.2161 15.632 11.1423 15.575 11.074C15.5241 11.0059 15.4531 10.9716 15.3621 10.9716H11.3735C11.6576 10.3353 12.0837 9.83531 12.6519 9.47167C13.2201 9.10794 13.8621 8.92618 14.578 8.92618C14.6008 8.91484 14.6845 8.9177 14.8293 8.93472C14.9742 8.95167 15.0567 8.95884 15.0765 8.95597C15.0961 8.95316 15.1703 8.96173 15.298 8.98149C15.4259 9.00137 15.4898 9.01134 15.4898 9.01134L15.639 9.04113C15.6817 9.04973 15.7143 9.05672 15.737 9.06248L15.7711 9.07096C15.8449 9.09379 15.9129 9.08663 15.9757 9.04973C16.0382 9.01269 16.078 8.95737 16.0951 8.88352L16.4616 7.52845C16.4786 7.45457 16.47 7.38639 16.4361 7.32391C16.3849 7.25561 16.328 7.21301 16.2655 7.19603C15.7428 7.06537 15.1915 7 14.6121 7C13.3392 7 12.2016 7.36373 11.1988 8.0909C10.1959 8.81812 9.50413 9.77842 9.12345 10.9715H8.28831C8.20873 10.9715 8.14345 10.997 8.09228 11.0482C8.04127 11.0993 8.01562 11.1646 8.01562 11.2442V12.2158C8.01562 12.2953 8.04118 12.3607 8.09228 12.4117C8.14348 12.4629 8.20885 12.4884 8.28831 12.4884H8.85936C8.84219 12.7612 8.83948 13.0593 8.85076 13.3833H8.28831C8.21446 13.3833 8.15055 13.4103 8.09658 13.4642C8.04264 13.5182 8.01562 13.5821 8.01562 13.6559V14.619C8.01562 14.693 8.04264 14.7567 8.09658 14.8108C8.15058 14.8648 8.21446 14.8916 8.28831 14.8916H9.09798C9.45592 16.1472 10.1321 17.1459 11.1264 17.8873C12.1208 18.629 13.2827 18.9996 14.6121 18.9996C14.7202 18.9996 14.8295 18.9969 14.9403 18.991C15.0514 18.9853 15.1548 18.9767 15.2515 18.9655C15.348 18.9542 15.4432 18.9416 15.537 18.9273C15.6307 18.913 15.716 18.899 15.7926 18.8845C15.8693 18.8704 15.9417 18.8563 16.0099 18.8421C16.0781 18.8278 16.1392 18.8123 16.1932 18.7952C16.2472 18.7783 16.2924 18.7654 16.3295 18.7571C16.3665 18.7485 16.3963 18.7384 16.4189 18.7273L16.4616 18.7187C16.5241 18.696 16.5724 18.6547 16.6065 18.595C16.6406 18.5356 16.6489 18.4716 16.632 18.4035Z" fill="white"/></svg>',
      'ETH' =>
          '<svg width="36" height="36" viewBox="0 0 26 26" fill="none" xmlns="http://www.w3.org/2000/svg"><path fill-rule="evenodd" clip-rule="evenodd" d="M10 12.326L13.5144 10.0416L17 12.3402L13.499 6L10 12.326ZM10.1341 12.9858L13.5182 10.7557L16.8583 12.9693L13.5201 15.2017L10.1341 12.9858ZM10 13.6243C11.2334 14.4331 12.5204 15.2797 13.5144 15.9348L17 13.6243C15.7379 15.9395 14.6865 17.8669 13.5144 20L12.7957 18.6974C11.8301 16.9471 10.8343 15.1422 10 13.6243Z" fill="#A9A9A9"/><path fill-rule="evenodd" clip-rule="evenodd" d="M13.5 6L13.5131 10.0416L17 12.3402L13.5 6ZM13.5164 10.7557L16.8786 12.9693L13.5181 15.2017L13.5164 10.7557ZM13.5131 15.9348L17 13.6243C15.9185 15.9395 13.5131 20 13.5131 20V15.9348Z" fill="white"/></svg>',
      'ETC' =>
          '<svg width="36" height="36" viewBox="0 0 26 26" fill="none" xmlns="http://www.w3.org/2000/svg"><path fill-rule="evenodd" clip-rule="evenodd" d="M10 12.326L13.5144 10.0416L17 12.3402L13.499 6L10 12.326ZM10.1341 12.9858L13.5182 10.7557L16.8583 12.9693L13.5201 15.2017L10.1341 12.9858ZM10 13.6243C11.2334 14.4331 12.5204 15.2797 13.5144 15.9348L17 13.6243C15.7379 15.9395 14.6865 17.8669 13.5144 20L12.7957 18.6974C11.8301 16.9471 10.8343 15.1422 10 13.6243Z" fill="#A9A9A9"/><path fill-rule="evenodd" clip-rule="evenodd" d="M13.5 6L13.5131 10.0416L17 12.3402L13.5 6ZM13.5164 10.7557L16.8786 12.9693L13.5181 15.2017L13.5164 10.7557ZM13.5131 15.9348L17 13.6243C15.9185 15.9395 13.5131 20 13.5131 20V15.9348Z" fill="white"/></svg>',
      'BNB' =>
          '<svg width="36" height="36" viewBox="0 0 26 26" fill="none" xmlns="http://www.w3.org/2000/svg"><path fill-rule="evenodd" clip-rule="evenodd" d="M10.2822 11.8826L13.0013 9.16468L15.7216 11.8848L17.3029 10.3025L13.0013 6L8.69982 10.3014L10.2822 11.8826ZM6 13.0002L7.58181 11.4185L9.16361 13.0002L7.58181 14.582L6 13.0002ZM13.0013 16.8364L10.2822 14.1174L8.69758 15.6975L8.69982 15.6997L13.0013 20L17.304 15.6964L15.7216 14.1163L13.0013 16.8364ZM16.8364 13.0006L18.4182 11.4189L20 13.0006L18.4182 14.5824L16.8364 13.0006ZM13.0013 11.3939L14.6058 12.9994H14.607L14.6058 13.0006L13.0013 14.6061L11.3968 13.0028L11.3946 12.9994L11.6777 12.7164L11.8148 12.5804L13.0013 11.3939Z" fill="white"/></svg>',
      'LTC' =>
          '<svg width="36" height="36" viewBox="0 0 26 26" fill="none" xmlns="http://www.w3.org/2000/svg"><g opacity="0.8"><path d="M12.9563 7L12.8765 7.27148V15.1493L12.9563 15.229L16.6131 13.0675L12.9563 7Z" fill="white"/><path d="M12.9566 7L9.2998 13.0675L12.9566 15.229V11.4054V7Z" fill="white"/><path d="M12.9566 16.4182L12.9116 16.4731V19.2794L12.9566 19.4108L16.6156 14.2578L12.9566 16.4182Z" fill="white"/><path d="M12.9566 19.4108V16.4182L9.2998 14.2578L12.9566 19.4108Z" fill="white"/><path d="M12.9565 15.2298L16.6133 13.0684L12.9565 11.4062V15.2298Z" fill="white"/><path d="M9.2998 13.0684L12.9565 15.2299V11.4062L9.2998 13.0684Z" fill="white"/></g></svg>',
      'GDZ' =>
          '<svg width="36" height="36" viewBox="0 0 26 26" fill="none" xmlns="http://www.w3.org/2000/svg"><path d="M7 11.5C8.19347 11.5 9.33807 11.0259 10.182 10.182C11.0259 9.33807 11.5 8.19347 11.5 7L14.5 7V11.5H19V14.5C17.8065 14.5 16.6619 14.9741 15.818 15.818C14.9741 16.6619 14.5 17.8065 14.5 19L11.5 19V14.5H7L7 11.5Z" fill="white"/></svg>',
  ];

  $walletSmallIcons = [
      'USD' =>
          '<svg width="24" height="24" viewBox="0 0 186 186" fill="none" xmlns="http://www.w3.org/2000/svg"><path d="M186 93C186 144.362 144.362 186 93 186C41.6375 186 0 144.362 0 93C0 41.6375 41.6375 0 93 0C144.362 0 186 41.6375 186 93Z" fill="gray" fill-opacity="0.5" /><path d="M89.5198 145V41H96.7074V145H89.5198ZM108.585 75.3281C108.234 72.051 106.729 69.5052 104.07 67.6906C101.412 65.876 97.8031 64.9688 93.2451 64.9688C90.1479 64.9688 87.5329 65.375 85.4 66.1875C83.2671 66.9729 81.6309 68.0698 80.4914 69.4781C79.3811 70.8865 78.8259 72.4844 78.8259 74.2719C78.7675 75.7615 79.1035 77.0615 79.834 78.1719C80.5936 79.2823 81.6309 80.2438 82.9457 81.0563C84.2605 81.8417 85.7798 82.5323 87.5037 83.1281C89.2276 83.6969 91.0683 84.1844 93.0259 84.5906L101.09 86.3781C105.005 87.1906 108.599 88.274 111.872 89.6281C115.144 90.9823 117.978 92.6479 120.374 94.625C122.77 96.6021 124.625 98.9313 125.94 101.613C127.284 104.294 127.971 107.368 128 110.834C127.971 115.926 126.568 120.341 123.793 124.078C121.046 127.789 117.072 130.673 111.872 132.731C106.7 134.762 100.462 135.778 93.1574 135.778C85.9113 135.778 79.6002 134.749 74.2241 132.691C68.8772 130.632 64.699 127.585 61.6895 123.55C58.7093 119.488 57.1461 114.464 57 108.478H75.3636C75.5681 111.268 76.43 113.597 77.9494 115.466C79.4979 117.307 81.5578 118.702 84.129 119.65C86.7294 120.571 89.6658 121.031 92.9383 121.031C96.1523 121.031 98.9426 120.598 101.309 119.731C103.705 118.865 105.56 117.659 106.875 116.116C108.19 114.572 108.848 112.798 108.848 110.794C108.848 108.925 108.249 107.354 107.051 106.081C105.882 104.808 104.158 103.725 101.879 102.831C99.6292 101.938 96.8681 101.125 93.5957 100.394L83.8222 98.1188C76.2547 96.4125 70.2796 93.7448 65.8969 90.1156C61.5142 86.4865 59.3375 81.5979 59.3667 75.45C59.3375 70.4125 60.7837 66.0115 63.7056 62.2469C66.6566 58.4823 70.7033 55.5438 75.8457 53.4313C80.9881 51.3188 86.8317 50.2625 93.3765 50.2625C100.038 50.2625 105.853 51.3188 110.82 53.4313C115.816 55.5438 119.702 58.4823 122.478 62.2469C125.254 66.0115 126.685 70.3719 126.773 75.3281H108.585Z" fill="white" /></svg>',
      'USDT' =>
          '<svg width="24" height="24" viewBox="0 0 186 186" fill="none" xmlns="http://www.w3.org/2000/svg"><path d="M186 93C186 144.362 144.362 186 93 186C41.6375 186 0 144.362 0 93C0 41.6375 41.6375 0 93 0C144.362 0 186 41.6375 186 93Z" fill="gray" fill-opacity="0.5" /><path d="M127.115 91.7605C127.115 95.0234 115.645 97.7537 100.27 98.4428L100.28 98.4481C97.7199 98.5906 95.156 98.6481 92.5923 98.6203C88.5998 98.6203 85.7758 98.5003 84.7816 98.4533C69.3754 97.7589 57.8746 95.0286 57.8746 91.7605C57.8746 88.4925 69.3754 85.7569 84.7816 85.0573V95.7281C85.7861 95.8065 88.6715 95.9787 92.6589 95.9787C97.4406 95.9787 99.8341 95.7699 100.27 95.7334V85.0678C115.645 85.7621 127.115 88.4977 127.115 91.7605ZM153.715 94.6109L93.1355 153.739C92.9638 153.906 92.7352 154 92.4974 154C92.2597 154 92.0311 153.906 91.8594 153.739L31.2854 94.6109C31.1447 94.474 31.05 94.2952 31.015 94.1002C30.98 93.9052 31.0065 93.7039 31.0907 93.5251L53.5182 45.5377C53.5931 45.3766 53.7114 45.2405 53.8593 45.1453C54.0072 45.0501 54.1787 44.9997 54.3536 45H130.657C130.829 45.0026 130.997 45.0544 131.142 45.1495C131.287 45.2445 131.403 45.379 131.477 45.5377L153.909 93.5251C153.993 93.7039 154.02 93.9052 153.985 94.1002C153.95 94.2952 153.855 94.474 153.715 94.6109ZM130.764 92.5018C130.764 88.2941 117.685 84.7754 100.285 83.9558V74.4126H121.739V59.8473H63.3278V74.4126H84.7764V83.961C67.3407 84.7754 54.2306 88.2941 54.2306 92.5071C54.2306 96.7253 67.3407 100.233 84.7764 101.058V131.661H100.28V101.048C117.675 100.228 130.764 96.7148 130.764 92.5018Z" fill="white" /></svg>',
      'TRX' =>
          '<svg width="24" height="24" viewBox="0 0 186 186" fill="none" xmlns="http://www.w3.org/2000/svg"><path d="M186 93C186 144.362 144.362 186 93 186C41.6375 186 0 144.362 0 93C0 41.6375 41.6375 0 93 0C144.362 0 186 41.6375 186 93Z" fill="gray" fill-opacity="0.5" /><path fill-rule="evenodd" clip-rule="evenodd" d="M52.8713 42.1772C53.2828 41.7002 53.8087 41.3485 54.3938 41.1589C54.9789 40.9694 55.6018 40.949 56.1969 41.0999L127.84 59.5561C128.273 59.6701 128.67 59.8639 129.031 60.1375L143.607 71.3207C144.319 71.8682 144.801 72.6859 144.951 73.6008C145.1 74.5157 144.906 75.456 144.408 76.2226L94.2633 153.433C93.911 153.98 93.4212 154.414 92.8484 154.685C92.2757 154.957 91.6426 155.055 91.0197 154.97C90.3968 154.885 89.8086 154.62 89.3207 154.203C88.8328 153.787 88.4644 153.236 88.2566 152.612L52.1942 45.7681C51.9907 45.1607 51.9461 44.5068 52.0652 43.875C52.1844 43.2432 52.4628 42.6568 52.8713 42.1772ZM64.7007 61.4599L89.7352 135.632L93.8517 97.1925L64.7007 61.4599ZM100.557 98.4293L96.3703 137.536L131.783 83.0054L100.557 98.4293ZM134.978 73.5379L112.148 84.8123L127.455 67.7696L134.978 73.5379ZM120.56 65.0394L64.8632 50.6871L97.5186 90.7117L120.56 65.0394Z" fill="white" /></svg>',
      'BTC' =>
          '<svg width="24" height="24" viewBox="0 0 186 186" fill="none" xmlns="http://www.w3.org/2000/svg"><path d="M186 93C186 144.362 144.362 186 93 186C41.6375 186 0 144.362 0 93C0 41.6375 41.6375 0 93 0C144.362 0 186 41.6375 186 93Z" fill="gray" fill-opacity="0.5" /><path d="M137.767 81.24C139.635 68.61 130.038 61.872 116.815 57.3L121.092 40.278L110.652 37.692L106.483 54.294L98.1519 52.308L102.375 35.586L91.9289 33L87.6396 50.082L81.0009 48.522V48.462L66.5668 44.85L63.7836 55.974C63.7836 55.974 71.5187 57.786 71.3922 57.84C75.6212 58.926 76.3502 61.692 76.2297 63.858L71.3922 83.346L72.4826 83.706L71.338 83.466L64.5125 110.712C64.0306 111.978 62.6992 113.904 59.7413 113.118C59.8618 113.298 52.1929 111.318 52.1929 111.318L47 123.162L60.5847 126.528L68.0126 128.46L63.6631 145.722L74.1152 148.302L78.3442 131.226L86.736 133.386L82.4527 150.414L92.8928 153L97.182 135.738C114.996 139.098 128.406 137.778 134.026 121.716C138.557 108.792 133.785 101.388 124.424 96.456C131.249 94.956 136.382 90.444 137.707 81.24H137.767ZM113.911 114.564C110.713 127.5 88.8505 120.456 81.784 118.77L87.5251 95.856C94.5856 97.662 117.297 101.088 113.911 114.504V114.564ZM117.116 81.06C114.213 92.79 95.9712 86.832 90.1156 85.392L95.3085 64.638C101.23 66.084 120.189 68.85 117.116 81.06Z" fill="white" /></svg>',
      'ETH' =>
          '<svg width="24" height="24" viewBox="0 0 186 186" fill="none" xmlns="http://www.w3.org/2000/svg"><path d="M186 93C186 144.362 144.362 186 93 186C41.6375 186 0 144.362 0 93C0 41.6375 41.6375 0 93 0C144.362 0 186 41.6375 186 93Z" fill="gray"opacity="0.5" /><path d="M92.5 38L59 94.3415L92.5 114.463L126 94.3415L92.5 38ZM59 101.049L92.5 148L126 101.049L92.5 121.171L59 101.049Z" fill="white" /></svg>',
      'ETC' =>
          '<svg width="24" height="24" viewBox="0 0 186 186" fill="none" xmlns="http://www.w3.org/2000/svg"><path d="M186 93C186 144.362 144.362 186 93 186C41.6375 186 0 144.362 0 93C0 41.6375 41.6375 0 93 0C144.362 0 186 41.6375 186 93Z" fill="gray" fill-opacity="0.5" /><path d="M92.5 73L59.2328 92.5L92.5 112L125.767 92.5L92.5 73Z" fill="white" /><path d="M59 101L92.5 148L126 101L92.5 121.143L59 101Z" fill="white" /><path d="M126 85L92.5 38L59 85L92.5 64.8571L126 85Z" fill="white" /></svg>',
      'BNB' =>
          '<svg width="24" height="24" viewBox="0 0 186 186" fill="none" xmlns="http://www.w3.org/2000/svg"><path d="M186 93C186 144.362 144.362 186 93 186C41.6375 186 0 144.362 0 93C0 41.6375 41.6375 0 93 0C144.362 0 186 41.6375 186 93Z" fill="gray" fill-opacity="0.5"/><path fill-rule="evenodd" clip-rule="evenodd" d="M72.0341 84.3801L93.01 63.4132L113.995 84.397L126.194 72.1907L93.01 39L59.8271 72.1822L72.0341 84.3801ZM39 93.0015L51.2025 80.7999L63.4051 93.0015L51.2025 105.204L39 93.0015ZM93.01 122.595L72.0341 101.62L59.81 113.809L59.8271 113.826L93.01 147L126.202 113.801L113.995 101.611L93.01 122.595ZM122.595 93.0046L134.798 80.8029L147 93.0046L134.798 105.207L122.595 93.0046ZM93.01 80.6101L105.388 92.9954H105.397L105.388 93.0046L93.01 105.39L80.6325 93.0216L80.6155 92.9954L82.7994 90.8122L83.857 89.7631L93.01 80.6101Z" fill="white"/></svg>',
      'LTC' =>
          '<svg width="24" height="24"viewBox="0 0 186 186" fill="none" xmlns="http://www.w3.org/2000/svg"><path d="M186 93C186 144.362 144.362 186 93 186C41.6375 186 0 144.362 0 93C0 41.6375 41.6375 0 93 0C144.362 0 186 41.6375 186 93Z" fill="gray" fill-opacity="0.5" /><path d="M61.1737 111.455L53 114.675L56.9406 98.75L65.1691 95.415L77.0549 47H106.371L97.6857 82.65L105.745 79.3702L101.859 95.1298L93.7406 98.4648L88.8857 119.284H133L128.026 139H54.4263L61.1737 111.455Z" fill="white" /></svg>',
      'GDZ' =>
          '<svg width="24" height="24" viewBox="0 0 186 186" fill="none" xmlns="http://www.w3.org/2000/svg"><path d="M186 93C186 144.362 144.362 186 93 186C41.6375 186 0 144.362 0 93C0 41.6375 41.6375 0 93 0C144.362 0 186 41.6375 186 93Z" fill="gray" fill-opacity="0.5" /><path d="M45 81C54.5478 81 63.7045 77.2072 70.4558 70.4558C77.2071 63.7045 81 54.5478 81 45H105V81H141V105C131.452 105 122.295 108.793 115.544 115.544C108.793 122.295 105 131.452 105 141H81V105H45V81Z" fill="white" /></svg>',
  ];
@endphp

@extends('layouts/layoutMaster')

@section('title', 'Wallet')

@section('vendor-style')
  @vite(['resources/assets/vendor/libs/apex-charts/apexcharts.scss', 'resources/assets/vendor/libs/select2/select2.scss', 'resources/assets/vendor/libs/bootstrap-select/bootstrap-select.scss', 'resources/assets/vendor/libs/toastr/toastr.scss', 'resources/assets/vendor/libs/@form-validation/form-validation.scss'])
@endsection

@section('vendor-script')
  @vite(['resources/assets/vendor/libs/apex-charts/apexcharts.js', 'resources/assets/vendor/libs/select2/select2.js', 'resources/assets/vendor/libs/bootstrap-select/bootstrap-select.js', 'resources/assets/vendor/libs/toastr/toastr.js', 'resources/assets/vendor/libs/@form-validation/popular.js', 'resources/assets/vendor/libs/@form-validation/bootstrap5.js', 'resources/assets/vendor/libs/@form-validation/auto-focus.js'])
@endsection

@section('page-style')
  @vite(['resources/assets/vendor/scss/pages/wallet.scss'])
@endsection

@section('page-script')
  @vite(['resources/assets/js/pages/wallet.js', 'resources/assets/js/helpers/gdzhelpers.js', 'resources/assets/js/ui-popover.js'])
@endsection

@section('content')
  <div class="page-wallet">
    <h5 class="mb-3 lh-1">Wallet</h5>
    <p class="mb-7 lh-1">Track your balances and manage your wallet addresses</p>

    <div class="row row-gap-4 mb-7">
      <div class="col col-3">
        <div class="card bg-primary bg-glow wallet-item wallet-item-Total">
          <div class="p-4">
            <div class="d-flex justify-content-between align-items-center">
              <h6 class="mb-0 text-white wallet-item-title">Total<br />Balance</h6>
              <div class="d-flex flex-column align-items-end text-right">
                <h5 class="mb-0 text-white">
                  {{ number_format($userTotalBalance, 2) }}$
                </h5>
                <small class="text-dark">
                  {{ number_format(convertUsdToEur($userTotalBalance), 2) }}$
                </small>
              </div>
            </div>
          </div>
        </div>
      </div>
      <div class="col col-3">
        <div
          class="card bg-primary bg-glow wallet-item wallet-item-{{ $userBalances->where('wallet', 'GDZ')->value('wallet') }}">
          <div class="p-4">
            <div class="d-flex justify-content-between align-items-center">
              <div class="d-flex align-items-center gap-2">
                {!! $walletIconSymbols[$userBalances->where('wallet', 'GDZ')->value('wallet')] ?? '' !!}
                <h6 class="mb-0 text-white wallet-item-title">{{ $userBalances->where('wallet', 'GDZ')->value('title') }}
                </h6>
              </div>
              <div class="d-flex flex-column align-items-end text-right">
                <h5 class="mb-0 text-white">
                  {{ number_format($userBalances->where('wallet', 'GDZ')->value('balance') * $marketDataPrices['GDZ'], 2) }}$
                </h5>
                <small class="text-dark">
                  {{ number_format($userBalances->where('wallet', 'GDZ')->value('balance'), 2) }}
                  {{ $userBalances->where('wallet', 'GDZ')->value('wallet') }}</small>
              </div>
            </div>
          </div>
        </div>
      </div>
      <div class="col col-3">
        <div
          class="card bg-primary bg-glow wallet-item wallet-item-{{ $userBalances->where('wallet', 'USD')->value('wallet') }}">
          <div class="p-4">
            <div class="d-flex justify-content-between align-items-center">
              <div class="d-flex align-items-center gap-2">
                {!! $walletIconSymbols[$userBalances->where('wallet', 'USD')->value('wallet')] ?? '' !!}
                <h6 class="mb-0 text-white wallet-item-title">
                  {{ $userBalances->where('wallet', 'USD')->value('title') }}
                </h6>
              </div>
              <div class="d-flex flex-column align-items-end text-right">
                <h5 class="mb-0 text-white">{{ $userBalances->where('wallet', 'USD')->value('balance') }}$</h5>
                <small class="text-dark">
                  {{ number_format($userBalances->where('wallet', 'USD')->value('balance'), 2) }}
                  {{ $userBalances->where('wallet', 'USD')->value('wallet') }}</small>
              </div>
            </div>
          </div>
        </div>
      </div>
      <div class="col col-3">
        <div
          class="card bg-primary bg-glow wallet-item wallet-item-{{ $userBalances->where('wallet', 'USDT')->value('wallet') }}">
          <div class="p-4">
            <div class="d-flex justify-content-between align-items-center">
              <div class="d-flex align-items-center gap-2">
                {!! $walletIconSymbols[$userBalances->where('wallet', 'USDT')->value('wallet')] ?? '' !!}
                <h6 class="mb-0 text-white wallet-item-title">
                  {{ $userBalances->where('wallet', 'USDT')->value('title') }}</h6>
              </div>
              <div class="d-flex flex-column align-items-end text-right">
                <h5 class="mb-0 text-white">
                  {{ number_format($userBalances->where('wallet', 'USDT')->value('balance') * $marketDataPrices['USDT'], 2) }}$
                </h5>
                <small class="text-dark">
                  {{ number_format($userBalances->where('wallet', 'USDT')->value('balance'), 2) }}
                  {{ $userBalances->where('wallet', 'USDT')->value('wallet') }}
                </small>
              </div>
            </div>
          </div>
        </div>
      </div>
    </div>

    <div class="nav-tabs-shadow nav-align-right">
      <ul class="nav nav-tabs" role="tablist">
        <li class="nav-item">
          <button type="button" class="nav-link active" role="tab" data-bs-toggle="tab" data-bs-target="#assets"
            aria-controls="assets" aria-selected="false">
            <svg class="me-2" xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24">
              <path fill="currentColor"
                d="M14.25 19h1.5c2.317-.005 3.558-.062 4.472-.674a4 4 0 0 0 1.104-1.103C22 16.213 22 14.809 22 12s0-4.213-.674-5.222a4 4 0 0 0-1.104-1.103c-.915-.612-2.155-.669-4.472-.674h-1.5V9H15a3 3 0 1 1 0 6h-.75zm-4.5 0v-4H9a3 3 0 1 1 0-6h.75V5.001h-1.5c-2.317.005-3.557.062-4.472.674a4 4 0 0 0-1.104 1.103C2 7.787 2 9.192 2 12c0 2.81 0 4.214.674 5.223a4 4 0 0 0 1.104 1.103c.915.612 2.155.669 4.472.674z" />
              <path fill="currentColor" d="M9.75 19h4.5V5h-4.5z" opacity=".5" />
            </svg>
            Assets
          </button>
        </li>
        <li class="nav-item">
          <button type="button" class="nav-link" role="tab" data-bs-toggle="tab" data-bs-target="#manage"
            aria-controls="manage" aria-selected="false">
            <svg class="me-2" width="24" height="24" viewBox="0 0 112 112" fill="none"
              xmlns="http://www.w3.org/2000/svg">
              <path fill-rule="evenodd" clip-rule="evenodd"
                d="M98.877 37.3515C98.5846 37.3359 98.2735 37.3297 97.9437 37.3328H85.003C74.405 37.3328 65.333 45.4341 65.333 55.9995C65.333 66.5648 74.405 74.6661 85.003 74.6661H97.9437C98.2735 74.6693 98.5846 74.663 98.877 74.6475C103.184 74.3861 106.992 71.1148 107.314 66.5415C107.333 66.2428 107.333 65.9208 107.333 65.6221V46.3768C107.333 46.0781 107.333 45.7561 107.314 45.4575C106.992 40.8841 103.184 37.6175 98.877 37.3515ZM83.8643 60.9788C86.5897 60.9788 88.8017 58.7481 88.8017 55.9995C88.8017 53.2461 86.5897 51.0201 83.8643 51.0201C81.139 51.0201 78.9177 53.2508 78.9177 55.9995C78.9177 58.7528 81.1343 60.9788 83.8643 60.9788Z"
                fill="currentColor" />
              <path opacity="0.5"
                d="M98.653 37.3427C98.653 31.8313 98.4477 25.9187 94.929 21.686C94.584 21.2723 94.2212 20.8737 93.8417 20.4913C90.3463 17.0007 85.9177 15.4513 80.4483 14.714C75.1283 14 68.3383 14 59.761 14H49.905C41.3277 14 34.533 14 29.213 14.714C23.7437 15.4513 19.315 17.0007 15.8197 20.4913C12.329 23.9867 10.7797 28.4153 10.0423 33.8847C9.33301 39.2047 9.33301 45.9947 9.33301 54.572V55.0947C9.33301 56.3839 9.33301 57.6328 9.33543 58.8424C10.5409 58.1549 11.7297 57.5127 12.8585 56.9885C15.1378 55.9299 17.8742 55 21.1497 55C24.4289 55 27.1659 55.9328 29.4418 56.9907C31.4139 57.9073 33.5745 59.1862 35.6837 60.4347L36.0105 60.6281L37.6294 61.5863L37.9395 61.77C40.0559 63.0238 42.2195 64.3055 43.9805 65.6003C46.0117 67.0936 48.1161 69.0236 49.7039 71.8428C51.2851 74.6503 51.8501 77.4468 52.0902 79.9453C52.3006 82.1348 52.3002 84.677 52.2997 87.1976L52.2997 87.5459V89.4541L52.2997 89.8027C52.3001 91.8069 52.3004 93.824 52.1949 95.6667H59.761C68.3383 95.6667 75.133 95.6667 80.4483 94.9527C85.9177 94.2153 90.3463 92.666 93.8417 89.1753C94.7906 88.2171 95.6088 87.1904 96.2963 86.0953C98.3963 82.7353 98.6483 78.6193 98.6483 74.662L97.9483 74.6667H85.003C74.405 74.6667 65.333 66.5653 65.333 56C65.333 45.4347 74.405 37.3333 85.003 37.3333H97.9437C98.1895 37.3333 98.429 37.3364 98.653 37.3427Z"
                fill="currentColor" />
              <path opacity="0.5" fill-rule="evenodd" clip-rule="evenodd"
                d="M21.15 65C18.5321 65 16.1468 66.41 11.381 69.2347L9.76895 70.1888C4.99845 73.0135 2.6179 74.4258 1.30895 76.75C-1.40071e-07 79.0765 0 81.8965 0 87.5459V89.4541C0 95.1011 -1.40071e-07 97.9258 1.30895 100.25C2.6179 102.574 4.99845 103.986 9.76895 106.809L11.381 107.765C16.1468 110.588 18.5321 112 21.15 112C23.7679 112 26.1508 110.59 30.9189 107.765L32.531 106.809C37.2968 103.989 39.6821 102.574 40.9911 100.25C42.3 97.9235 42.3 95.1035 42.3 89.4541V87.5459C42.3 81.8988 42.3 79.0741 40.9911 76.75C39.6821 74.4258 37.2968 73.0135 32.531 70.1888L30.9189 69.2347C26.1484 66.4124 23.7679 65 21.15 65Z"
                fill="currentColor" />
              <path
                d="M21.1504 79.6895C18.8132 79.6895 16.5717 80.6179 14.919 82.2706C13.2663 83.9232 12.3379 86.1647 12.3379 88.502C12.3379 90.8392 13.2663 93.0807 14.919 94.7333C16.5717 96.386 18.8132 97.3145 21.1504 97.3145C23.4876 97.3145 25.7291 96.386 27.3818 94.7333C29.0344 93.0807 29.9629 90.8392 29.9629 88.502C29.9629 86.1647 29.0344 83.9232 27.3818 82.2706C25.7291 80.6179 23.4876 79.6895 21.1504 79.6895Z"
                fill="currentColor" />
            </svg>
            Manage Wallet
          </button>
        </li>
        <li class="nav-item px-4 mt-6">
          <div class="d-flex gap-2">
            <a href="{{ route('page-add-funds') }}" class="btn btn-sm btn-primary bg-glow mx-auto w-50">
              Add Funds
            </a>
            <a href="/send" class="btn btn-sm mx-auto w-50 btn-outline-primary">
              Send
            </a>
          </div>
        </li>
      </ul>

      <div class="tab-content pt-0 ps-0">
        <div class="tab-pane fade show active" id="assets" role="tabpanel" aria-labelledby="assets" tabindex="0">
          <h5 class="mb-2 lh-1">Assets</h5>
          <small class="lh-1 mb-7">
            Available assets in your wallet
          </small>

          <div class="row row-gap-4 mt-7">
            @foreach ($userBalances as $wallet)
              @if ($wallet['wallet'] === 'GDZ' || $wallet['wallet'] === 'USD' || $wallet['wallet'] === 'USDT')
                <div class="col col-4">
                  <div class="card bg-light wallet-item wallet-item-{{ $wallet['wallet'] }}">
                    <div class="p-4 pb-0">
                      <div class="d-flex justify-content-between align-items-center">
                        <div class="d-flex gap-2">
                          <span class="wallet-item-icon">{!! $walletIcons[$wallet['wallet']] ?? '' !!}</span>
                          <div class="d-flex flex-column">
                            <h6 class="mb-1 lh-1 wallet-item-title">{{ $wallet['title'] }}</h6>
                            <small class="text-light">{{ $wallet['wallet'] }}</small>
                          </div>
                        </div>
                        <div class="d-flex flex-column align-items-end text-right">
                          <h5 class="mb-1 lh-1 text-white">
                            {{ number_format($wallet['balance'] * $marketDataPrices[$wallet['wallet']], 2) }}$
                          </h5>
                          <small class="text-light">
                            {{ number_format($wallet['balance'], 2) }}
                            {{ $wallet['wallet'] }}
                          </small>
                        </div>
                      </div>
                    </div>
                    @if ($wallet['wallet'] === 'GDZ')
                      <div class="d-flex justify-content-start p-4">
                        <a href="javascript:;" class="btn btn-icon btn-transparent ms-n2 mb-n2"
                          data-bs-toggle="popover" data-bs-trigger="hover" data-bs-custom-class="popover-dark"
                          data-bs-placement="right" data-bs-content="Swap {{ $wallet['wallet'] }}">
                          <svg xmlns="http://www.w3.org/2000/svg" width="26" height="26" viewBox="0 0 24 24">
                            <path fill="currentColor"
                              d="M20.536 20.536C22 19.07 22 16.714 22 12s0-7.071-1.465-8.536C19.072 2 16.714 2 12 2S4.929 2 3.464 3.464C2 4.93 2 7.286 2 12s0 7.071 1.464 8.535C4.93 22 7.286 22 12 22s7.071 0 8.535-1.465"
                              opacity=".4" />
                            <path fill="currentColor"
                              d="M7 10.75a.75.75 0 0 1-.493-1.315l3.437-3a.75.75 0 0 1 .987 1.13L9 9.25h8a.75.75 0 0 1 0 1.5zm6.07 5.685a.75.75 0 0 0 .986 1.13l3.437-3A.75.75 0 0 0 17 13.25H7a.75.75 0 0 0 0 1.5h8z" />
                          </svg>
                        </a>
                      </div>
                      <div class="wallet-item-current-price">
                        <div class="d-flex flex-column align-items-end text-right">
                          <span class="d-flex flex-column align-items-end text-heading">
                            <small class="text-light">Price</small>
                            {{ number_format($marketDataPrices['GDZ'], 2) }}$
                          </span>
                        </div>
                      </div>
                    @else
                      <div class="d-flex justify-content-end p-4">
                        <a href="javascript:;" class="btn btn-icon btn-transparent me-n2 mb-n2"data-bs-toggle="popover"
                          data-bs-trigger="hover" data-bs-custom-class="popover-dark" data-bs-placement="left"
                          data-bs-content="Swap {{ $wallet['wallet'] }}">
                          <svg xmlns="http://www.w3.org/2000/svg" width="26" height="26" viewBox="0 0 24 24">
                            <path fill="currentColor"
                              d="M20.536 20.536C22 19.07 22 16.714 22 12s0-7.071-1.465-8.536C19.072 2 16.714 2 12 2S4.929 2 3.464 3.464C2 4.93 2 7.286 2 12s0 7.071 1.464 8.535C4.93 22 7.286 22 12 22s7.071 0 8.535-1.465"
                              opacity=".4" />
                            <path fill="currentColor"
                              d="M7 10.75a.75.75 0 0 1-.493-1.315l3.437-3a.75.75 0 0 1 .987 1.13L9 9.25h8a.75.75 0 0 1 0 1.5zm6.07 5.685a.75.75 0 0 0 .986 1.13l3.437-3A.75.75 0 0 0 17 13.25H7a.75.75 0 0 0 0 1.5h8z" />
                          </svg>
                        </a>
                      </div>
                    @endif
                  </div>
                </div>
              @endif
            @endforeach

            @foreach ($userBalances as $wallet)
              @if (
                  $wallet['wallet'] !== 'Total' &&
                      $wallet['wallet'] !== 'GDZ' &&
                      $wallet['wallet'] !== 'USD' &&
                      $wallet['wallet'] !== 'USDT')
                <div class="col col-4">
                  <div class="card bg-light wallet-item wallet-item-{{ $wallet['wallet'] }}">
                    <div class="p-4 pb-0">
                      <div class="d-flex justify-content-between align-items-center">
                        <div class="d-flex gap-2">
                          <span class="wallet-item-icon">{!! $walletIcons[$wallet['wallet']] ?? '' !!}</span>
                          <div class="d-flex flex-column">
                            <h6 class="mb-1 lh-1 wallet-item-title">{{ $wallet['title'] }}</h6>
                            <small class="text-light">{{ $wallet['wallet'] }}</small>
                          </div>
                        </div>
                        <div class="d-flex flex-column align-items-end text-right">
                          <h5 class="mb-1 lh-1" data-asset="{{ $wallet['wallet'] }}"
                            data-asset-balance={{ $wallet['balance'] }}>
                            {{ number_format($wallet['balance'] * $marketDataPrices[$wallet['wallet']], 2) }}$
                          </h5>
                          <small class="text-light">
                            {{ number_format($wallet['balance'], 2) }}
                            {{ $wallet['wallet'] }}
                          </small>
                        </div>
                      </div>
                    </div>
                    <div class="wallet-asset-chart wallet-asset-chart-{{ $wallet['wallet'] }}"></div>
                    <div class="wallet-item-current-price price-hidden">
                      <div class="d-flex flex-column align-items-end text-right">
                        <span class="d-flex flex-column align-items-end text-heading">
                          <small class="text-light">Price</small>
                          {{ number_format($marketDataPrices[$wallet['wallet']], 2) }}$
                        </span>
                      </div>
                    </div>
                  </div>
                </div>
              @endif
            @endforeach
          </div>

          <div class="col-12 mt-7">
            <div class="d-flex justify-content-between align-items-center bg-light p-4 rounded">
              <div class="d-flex align-items-center">
                <svg class="text-primary me-2 flex-shrink-0" xmlns="http://www.w3.org/2000/svg" width="24"
                  height="24" viewBox="0 0 24 24">
                  <path fill="currentColor" d="M22 12c0 5.523-4.477 10-10 10S2 17.523 2 12S6.477 2 12 2s10 4.477 10 10"
                    opacity=".3" />
                  <path fill="currentColor"
                    d="M12 17.75a.75.75 0 0 0 .75-.75v-6a.75.75 0 0 0-1.5 0v6c0 .414.336.75.75.75M12 7a1 1 0 1 1 0 2a1 1 0 0 1 0-2" />
                </svg>
                <p class="mb-0">
                  You can send funds to different asset types by adding them on <a
                    href="{{ route('page-wallet') }}?tab=manage">Manage Wallet</a> section.
                </p>
              </div>
            </div>
          </div>
        </div>

        <div class="tab-pane fade" id="manage" role="tabpanel" aria-labelledby="manage" tabindex="0">
          <h5 class="mb-2 lh-1">Manage Wallet</h5>
          <small class="lh-1">
            Add, remove, edit your wallet addresses
          </small>

          <div class="row row-gap-4 mt-7">
            <h6 class="mb-0 lh-1">Active Wallets</h6>
            @foreach ($activeWallets as $walletItem)
              @if ($walletItem['symbol'] !== 'USD' && $walletItem['symbol'] !== 'GDZ' && $walletItem['symbol'] !== 'Total')
                <div class="col-6">
                  <div class="card bg-light wallet-address-item">
                    <div class="card-body">
                      <div class="d-flex justify-content-between align-items-center">
                        <label class="form-label d-flex align-items-center mb-0"
                          for="{{ $walletItem['symbol'] }}-wallet-address">
                          <span class="d-flex align-items-center me-2">
                            {!! $walletIcons[$walletItem['symbol']] !!}
                          </span>
                          <div class="d-flex flex-column">
                            <div class="h6 mb-0">
                              {{ $walletItem['label'] ?? $walletItem['title'] }}
                            </div>
                            <small class="text-light">
                              {{ $walletItem['symbol'] }}
                            </small>
                          </div>
                        </label>
                        <button type="button" class="btn btn-sm btn-icon btn-transparent toggle-manage-modal-button"
                          data-bs-toggle="modal" data-bs-target="#manageWalletModal"
                          data-bs-target="#manageWalletModal" data-id="{{ $walletItem['id'] }}"
                          data-symbol="{{ $walletItem['symbol'] }}" data-title="{{ $walletItem['title'] }}"
                          data-active="{{ $walletItem['active'] ? 'true' : 'false' }}"
                          data-address="{{ $walletItem['wallet_address'] ?? '' }}"
                          data-label="{{ $walletItem['label'] ?? '' }}">
                          <svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 24 24">
                            <path fill="currentColor" fill-rule="evenodd"
                              d="M14.279 2.152C13.909 2 13.439 2 12.5 2s-1.408 0-1.779.152a2 2 0 0 0-1.09 1.083c-.094.223-.13.484-.145.863a1.62 1.62 0 0 1-.796 1.353a1.64 1.64 0 0 1-1.579.008c-.338-.178-.583-.276-.825-.308a2.03 2.03 0 0 0-1.49.396c-.318.242-.553.646-1.022 1.453c-.47.807-.704 1.21-.757 1.605c-.07.526.074 1.058.4 1.479c.148.192.357.353.68.555c.477.297.783.803.783 1.361s-.306 1.064-.782 1.36c-.324.203-.533.364-.682.556a2 2 0 0 0-.399 1.479c.053.394.287.798.757 1.605s.704 1.21 1.022 1.453c.424.323.96.465 1.49.396c.242-.032.487-.13.825-.308a1.64 1.64 0 0 1 1.58.008c.486.28.774.795.795 1.353c.015.38.051.64.145.863c.204.49.596.88 1.09 1.083c.37.152.84.152 1.779.152s1.409 0 1.779-.152a2 2 0 0 0 1.09-1.083c.094-.223.13-.483.145-.863c.02-.558.309-1.074.796-1.353a1.64 1.64 0 0 1 1.579-.008c.338.178.583.276.825.308c.53.07 1.066-.073 1.49-.396c.318-.242.553-.646 1.022-1.453c.47-.807.704-1.21.757-1.605a2 2 0 0 0-.4-1.479c-.148-.192-.357-.353-.68-.555c-.477-.297-.783-.803-.783-1.361s.306-1.064.782-1.36c.324-.203.533-.364.682-.556a2 2 0 0 0 .399-1.479c-.053-.394-.287-.798-.757-1.605s-.704-1.21-1.022-1.453a2.03 2.03 0 0 0-1.49-.396c-.242.032-.487.13-.825.308a1.64 1.64 0 0 1-1.58-.008a1.62 1.62 0 0 1-.795-1.353c-.015-.38-.051-.64-.145-.863a2 2 0 0 0-1.09-1.083"
                              clip-rule="evenodd" opacity=".5" />
                            <path fill="currentColor"
                              d="M15.523 12c0 1.657-1.354 3-3.023 3s-3.023-1.343-3.023-3S10.83 9 12.5 9s3.023 1.343 3.023 3" />
                          </svg>
                        </button>
                      </div>
                    </div>
                  </div>
                </div>
              @endif
            @endforeach

            @if (!$activeWallets->count())
              <div class="col">
                <div class="card bg-light py-6">
                  <div class="card-body">
                    <div class="d-flex flex-column justify-content-center align-items-center text-center">
                      <h6 class="mb-1">You don't have any{{ $inactiveWallets->count() ? ' activated' : '' }}
                        wallet.
                      </h6>
                      <p>Please {{ $inactiveWallets->count() ? 'activate' : 'add' }} a wallet in order to
                        cash-out.</p>
                      <button type="button" class="addWalletModalToggle btn btn-sm btn-primary mt-3"
                        data-bs-toggle="modal" data-bs-target="#addWalletModal">
                        <svg class="me-2" width="24" height="24" viewBox="0 0 112 112" fill="none"
                          xmlns="http://www.w3.org/2000/svg">
                          <path fill-rule="evenodd" clip-rule="evenodd"
                            d="M98.877 37.3515C98.5846 37.3359 98.2735 37.3297 97.9437 37.3328H85.003C74.405 37.3328 65.333 45.4341 65.333 55.9995C65.333 66.5648 74.405 74.6661 85.003 74.6661H97.9437C98.2735 74.6693 98.5846 74.663 98.877 74.6475C103.184 74.3861 106.992 71.1148 107.314 66.5415C107.333 66.2428 107.333 65.9208 107.333 65.6221V46.3768C107.333 46.0781 107.333 45.7561 107.314 45.4575C106.992 40.8841 103.184 37.6175 98.877 37.3515ZM83.8643 60.9788C86.5897 60.9788 88.8017 58.7481 88.8017 55.9995C88.8017 53.2461 86.5897 51.0201 83.8643 51.0201C81.139 51.0201 78.9177 53.2508 78.9177 55.9995C78.9177 58.7528 81.1343 60.9788 83.8643 60.9788Z"
                            fill="currentColor" />
                          <path opacity="0.5"
                            d="M98.653 37.3427C98.653 31.8313 98.4477 25.9187 94.929 21.686C94.584 21.2723 94.2212 20.8737 93.8417 20.4913C90.3463 17.0007 85.9177 15.4513 80.4483 14.714C75.1283 14 68.3383 14 59.761 14H49.905C41.3277 14 34.533 14 29.213 14.714C23.7437 15.4513 19.315 17.0007 15.8197 20.4913C12.329 23.9867 10.7797 28.4153 10.0423 33.8847C9.33301 39.2047 9.33301 45.9947 9.33301 54.572V55.0947C9.33301 56.1335 9.33301 57.1462 9.33428 58.1333C13.6367 56.1229 18.437 55 23.4997 55C42.0016 55 56.9997 69.9981 56.9997 88.5C56.9997 90.9598 56.7346 93.3577 56.2314 95.6667H59.761C68.3383 95.6667 75.133 95.6667 80.4483 94.9527C85.9177 94.2153 90.3463 92.666 93.8417 89.1753C94.7906 88.2171 95.6088 87.1904 96.2964 86.0953C98.3964 82.7353 98.6483 78.6193 98.6483 74.662L97.9483 74.6667H85.003C74.405 74.6667 65.333 66.5653 65.333 56C65.333 45.4347 74.405 37.3333 85.003 37.3333H97.9437C98.1895 37.3333 98.429 37.3364 98.653 37.3427Z"
                            fill="currentColor" />
                          <path opacity="0.5"
                            d="M47 88.5C47 101.479 36.479 112 23.5 112C10.521 112 0 101.479 0 88.5C0 75.521 10.521 65 23.5 65C36.479 65 47 75.521 47 88.5Z"
                            fill="currentColor" />
                          <path
                            d="M26.2 77.7C26.2 76.9839 25.9155 76.2972 25.4092 75.7908C24.9028 75.2845 24.2161 75 23.5 75C22.7839 75 22.0972 75.2845 21.5908 75.7908C21.0845 76.2972 20.8 76.9839 20.8 77.7V85.8H12.7C11.9839 85.8 11.2972 86.0845 10.7908 86.5908C10.2845 87.0972 10 87.7839 10 88.5C10 89.2161 10.2845 89.9028 10.7908 90.4092C11.2972 90.9155 11.9839 91.2 12.7 91.2H20.8V99.3C20.8 100.016 21.0845 100.703 21.5908 101.209C22.0972 101.716 22.7839 102 23.5 102C24.2161 102 24.9028 101.716 25.4092 101.209C25.9155 100.703 26.2 100.016 26.2 99.3V91.2H34.3C35.0161 91.2 35.7028 90.9155 36.2092 90.4092C36.7155 89.9028 37 89.2161 37 88.5C37 87.7839 36.7155 87.0972 36.2092 86.5908C35.7028 86.0845 35.0161 85.8 34.3 85.8H26.2V77.7Z"
                            fill="currentColor" />
                        </svg>
                        <span class="text-nowrap">
                          Add Wallet
                        </span>
                      </button>
                    </div>
                  </div>
                </div>
              </div>
            @endif

            @if ($inactiveWallets->count())
              <h6 class="mt-7 mb-0 lh-1">Inactive Wallets</h6>
              @foreach ($inactiveWallets as $walletItem)
                <div class="col-6">
                  <div class="card bg-light wallet-address-item wallet-address-item-disabled">
                    <div class="card-body">
                      <div class="d-flex justify-content-between align-items-center">
                        <label class="form-label d-flex align-items-center mb-0"
                          for="{{ $walletItem['symbol'] }}-wallet-address">
                          <span class="d-flex align-items-center me-2">
                            {!! $walletIcons[$walletItem['symbol']] !!}
                          </span>
                          <div class="d-flex flex-column">
                            <div class="h6 mb-0">
                              <span>{{ $walletItem['label'] ?? $walletItem['title'] }}</span>
                            </div>
                            <small class="text-light">
                              {{ $walletItem['symbol'] }}&nbsp;{{ $walletItem['symbol'] === 'ETH' || $walletItem['symbol'] === 'ETC' ? '(ERC-20)' : '' }}{{ $walletItem['symbol'] === 'USDT' || $walletItem['symbol'] === 'TRX' ? '(TRC-20)' : '' }}
                            </small>
                          </div>
                        </label>
                        <button type="button" class="btn btn-sm btn-icon btn-transparent toggle-manage-modal-button"
                          data-bs-toggle="modal" data-bs-target="#manageWalletModal"
                          data-bs-target="#manageWalletModal" data-id="{{ $walletItem['id'] }}"
                          data-symbol="{{ $walletItem['symbol'] }}" data-title="{{ $walletItem['title'] }}"
                          data-active="{{ $walletItem['active'] ? 'true' : 'false' }}"
                          data-address="{{ $walletItem['wallet_address'] ?? '' }}"
                          data-label="{{ $walletItem['label'] ?? '' }}">
                          <svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 24 24">
                            <path fill="currentColor" fill-rule="evenodd"
                              d="M14.279 2.152C13.909 2 13.439 2 12.5 2s-1.408 0-1.779.152a2 2 0 0 0-1.09 1.083c-.094.223-.13.484-.145.863a1.62 1.62 0 0 1-.796 1.353a1.64 1.64 0 0 1-1.579.008c-.338-.178-.583-.276-.825-.308a2.03 2.03 0 0 0-1.49.396c-.318.242-.553.646-1.022 1.453c-.47.807-.704 1.21-.757 1.605c-.07.526.074 1.058.4 1.479c.148.192.357.353.68.555c.477.297.783.803.783 1.361s-.306 1.064-.782 1.36c-.324.203-.533.364-.682.556a2 2 0 0 0-.399 1.479c.053.394.287.798.757 1.605s.704 1.21 1.022 1.453c.424.323.96.465 1.49.396c.242-.032.487-.13.825-.308a1.64 1.64 0 0 1 1.58.008c.486.28.774.795.795 1.353c.015.38.051.64.145.863c.204.49.596.88 1.09 1.083c.37.152.84.152 1.779.152s1.409 0 1.779-.152a2 2 0 0 0 1.09-1.083c.094-.223.13-.483.145-.863c.02-.558.309-1.074.796-1.353a1.64 1.64 0 0 1 1.579-.008c.338.178.583.276.825.308c.53.07 1.066-.073 1.49-.396c.318-.242.553-.646 1.022-1.453c.47-.807.704-1.21.757-1.605a2 2 0 0 0-.4-1.479c-.148-.192-.357-.353-.68-.555c-.477-.297-.783-.803-.783-1.361s.306-1.064.782-1.36c.324-.203.533-.364.682-.556a2 2 0 0 0 .399-1.479c-.053-.394-.287-.798-.757-1.605s-.704-1.21-1.022-1.453a2.03 2.03 0 0 0-1.49-.396c-.242.032-.487.13-.825.308a1.64 1.64 0 0 1-1.58-.008a1.62 1.62 0 0 1-.795-1.353c-.015-.38-.051-.64-.145-.863a2 2 0 0 0-1.09-1.083"
                              clip-rule="evenodd" opacity=".5" />
                            <path fill="currentColor"
                              d="M15.523 12c0 1.657-1.354 3-3.023 3s-3.023-1.343-3.023-3S10.83 9 12.5 9s3.023 1.343 3.023 3" />
                          </svg>
                        </button>
                      </div>
                    </div>
                  </div>
                </div>
              @endforeach
            @endif

            @if ($missingAssetsInWallet)
              <div class="col-12 mt-7">
                <div class="d-flex justify-content-between align-items-center bg-light p-4 rounded">
                  <div class="d-flex flex-column">
                    <p class="mb-0">
                      Add a cryptocurrency address to your wallet in order to receive balances to external wallets
                    </p>
                  </div>
                  <button type="button" class="addWalletModalToggle btn btn-sm btn-primary" data-bs-toggle="modal"
                    data-bs-target="#addWalletModal">
                    <svg class="me-2" width="24" height="24" viewBox="0 0 112 112" fill="none"
                      xmlns="http://www.w3.org/2000/svg">
                      <path fill-rule="evenodd" clip-rule="evenodd"
                        d="M98.877 37.3515C98.5846 37.3359 98.2735 37.3297 97.9437 37.3328H85.003C74.405 37.3328 65.333 45.4341 65.333 55.9995C65.333 66.5648 74.405 74.6661 85.003 74.6661H97.9437C98.2735 74.6693 98.5846 74.663 98.877 74.6475C103.184 74.3861 106.992 71.1148 107.314 66.5415C107.333 66.2428 107.333 65.9208 107.333 65.6221V46.3768C107.333 46.0781 107.333 45.7561 107.314 45.4575C106.992 40.8841 103.184 37.6175 98.877 37.3515ZM83.8643 60.9788C86.5897 60.9788 88.8017 58.7481 88.8017 55.9995C88.8017 53.2461 86.5897 51.0201 83.8643 51.0201C81.139 51.0201 78.9177 53.2508 78.9177 55.9995C78.9177 58.7528 81.1343 60.9788 83.8643 60.9788Z"
                        fill="currentColor" />
                      <path opacity="0.5"
                        d="M98.653 37.3427C98.653 31.8313 98.4477 25.9187 94.929 21.686C94.584 21.2723 94.2212 20.8737 93.8417 20.4913C90.3463 17.0007 85.9177 15.4513 80.4483 14.714C75.1283 14 68.3383 14 59.761 14H49.905C41.3277 14 34.533 14 29.213 14.714C23.7437 15.4513 19.315 17.0007 15.8197 20.4913C12.329 23.9867 10.7797 28.4153 10.0423 33.8847C9.33301 39.2047 9.33301 45.9947 9.33301 54.572V55.0947C9.33301 56.1335 9.33301 57.1462 9.33428 58.1333C13.6367 56.1229 18.437 55 23.4997 55C42.0016 55 56.9997 69.9981 56.9997 88.5C56.9997 90.9598 56.7346 93.3577 56.2314 95.6667H59.761C68.3383 95.6667 75.133 95.6667 80.4483 94.9527C85.9177 94.2153 90.3463 92.666 93.8417 89.1753C94.7906 88.2171 95.6088 87.1904 96.2964 86.0953C98.3964 82.7353 98.6483 78.6193 98.6483 74.662L97.9483 74.6667H85.003C74.405 74.6667 65.333 66.5653 65.333 56C65.333 45.4347 74.405 37.3333 85.003 37.3333H97.9437C98.1895 37.3333 98.429 37.3364 98.653 37.3427Z"
                        fill="currentColor" />
                      <path opacity="0.5"
                        d="M47 88.5C47 101.479 36.479 112 23.5 112C10.521 112 0 101.479 0 88.5C0 75.521 10.521 65 23.5 65C36.479 65 47 75.521 47 88.5Z"
                        fill="currentColor" />
                      <path
                        d="M26.2 77.7C26.2 76.9839 25.9155 76.2972 25.4092 75.7908C24.9028 75.2845 24.2161 75 23.5 75C22.7839 75 22.0972 75.2845 21.5908 75.7908C21.0845 76.2972 20.8 76.9839 20.8 77.7V85.8H12.7C11.9839 85.8 11.2972 86.0845 10.7908 86.5908C10.2845 87.0972 10 87.7839 10 88.5C10 89.2161 10.2845 89.9028 10.7908 90.4092C11.2972 90.9155 11.9839 91.2 12.7 91.2H20.8V99.3C20.8 100.016 21.0845 100.703 21.5908 101.209C22.0972 101.716 22.7839 102 23.5 102C24.2161 102 24.9028 101.716 25.4092 101.209C25.9155 100.703 26.2 100.016 26.2 99.3V91.2H34.3C35.0161 91.2 35.7028 90.9155 36.2092 90.4092C36.7155 89.9028 37 89.2161 37 88.5C37 87.7839 36.7155 87.0972 36.2092 86.5908C35.7028 86.0845 35.0161 85.8 34.3 85.8H26.2V77.7Z"
                        fill="currentColor" />
                    </svg>
                    <span class="text-nowrap">
                      Add Wallet
                    </span>
                  </button>
                </div>
              </div>
            @endif
          </div>

          <div class="row mt-12">
            <div class="d-flex flex-column row-gap-2">
              <small class="d-flex align-items-center text-primary gap-2">
                <svg class="flex-shrink-0" xmlns="http://www.w3.org/2000/svg" width="20" height="20"
                  viewBox="0 0 24 24">
                  <path fill="currentColor"
                    d="M3 10.417c0-3.198 0-4.797.378-5.335c.377-.537 1.88-1.052 4.887-2.081l.573-.196C10.405 2.268 11.188 2 12 2s1.595.268 3.162.805l.573.196c3.007 1.029 4.51 1.544 4.887 2.081C21 5.62 21 7.22 21 10.417v1.574c0 5.638-4.239 8.375-6.899 9.536C13.38 21.842 13.02 22 12 22s-1.38-.158-2.101-.473C7.239 20.365 3 17.63 3 11.991z"
                    opacity=".4" />
                  <path fill="currentColor"
                    d="M12 7.25a.75.75 0 0 1 .75.75v4a.75.75 0 0 1-1.5 0V8a.75.75 0 0 1 .75-.75M12 16a1 1 0 1 0 0-2a1 1 0 0 0 0 2" />
                </svg>
                The updated wallet address will only apply to future transactions. Previous transactions remain
                unaffected.
              </small>
              <small class="d-flex text-danger gap-2">
                <svg class="flex-shrink-0" xmlns="http://www.w3.org/2000/svg" width="20" height="20"
                  viewBox="0 0 24 24">
                  <path fill="currentColor"
                    d="M3 10.417c0-3.198 0-4.797.378-5.335c.377-.537 1.88-1.052 4.887-2.081l.573-.196C10.405 2.268 11.188 2 12 2s1.595.268 3.162.805l.573.196c3.007 1.029 4.51 1.544 4.887 2.081C21 5.62 21 7.22 21 10.417v1.574c0 5.638-4.239 8.375-6.899 9.536C13.38 21.842 13.02 22 12 22s-1.38-.158-2.101-.473C7.239 20.365 3 17.63 3 11.991z"
                    opacity=".4" />
                  <path fill="currentColor"
                    d="M12 7.25a.75.75 0 0 1 .75.75v4a.75.75 0 0 1-1.5 0V8a.75.75 0 0 1 .75-.75M12 16a1 1 0 1 0 0-2a1 1 0 0 0 0 2" />
                </svg>
                Please ensure you provide a correct wallet address, especially with correct blockchain network (eg.
                TRC-20). Incorrect addresses may result in lost funds on the blockchain.
              </small>
            </div>
          </div>
        </div>
      </div>
    </div>

    <!-- Add Wallet Modal -->
    <div class="modal fade modal-lg" id="addWalletModal" tabindex="-1" aria-labelledby="addWalletModalLabel"
      aria-hidden="true">
      <div class="modal-dialog modal-dialog-centered" role="document">
        <form class="modal-content" method="POST" action="{{ route('add-wallet') }}" id="addWalletModalForm">
          <div class="modal-header">
            <div class="d-flex flex-column">
              <h5 class="modal-title" id="addWalletLabel">Add Wallet</h5>
              <p>Add a cryptocurrency address to your wallet in order to receive balances to external wallets</p>
            </div>
          </div>
          <div class="modal-body">
            <div class="row">
              <div class="col-4 add-wallet-form-row">
                <label for="addWalletAssetSelect" class="form-label required">Available Assets</label>
                <select id="addWalletAssetSelect" class="selectpicker w-100" data-style="btn-default" name="symbol">
                  @foreach ($assets as $asset)
                    @if (!collect($wallet)->pluck('symbol')->contains($asset['symbol']))
                      <option value="{{ $asset['symbol'] }}" data-show-subtext='true'
                        data-subtext='{{ $asset['symbol'] }}' data-title={{ $asset['title'] }}>
                        {{ $asset['title'] }}
                      </option>
                    @endif
                  @endforeach
                </select>
              </div>

              <div class="col-8 add-wallet-form-row">
                <label for="addWalletAddressInput" class="form-label required">Wallet Address</label>
                <div class="input-group required">
                  <span class="input-group-text" id="addWalletAssetIcon">
                    <svg height="24" width="24"></svg>
                  </span>
                  <input type="text" class="form-control" placeholder="eg. TR7NHqj..." aria-label="eg. TR7NHqj..."
                    id="addWalletAddressInput" name="wallet_address" />
                  <button class="btn btn-label-primary border border-primary px-3" type="button"
                    id="addWalletPasteButton" style="border-right-color: var(--bs-primary) !important;">
                    <svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 24 24">
                      <path fill="currentColor"
                        d="M21 15.998v-6c0-2.828 0-4.242-.879-5.121C19.353 4.109 18.175 4.012 16 4H8c-2.175.012-3.353.109-4.121.877C3 5.756 3 7.17 3 9.998v6c0 2.829 0 4.243.879 5.122c.878.878 2.293.878 5.121.878h6c2.828 0 4.243 0 5.121-.878c.879-.88.879-2.293.879-5.122"
                        opacity=".5" />
                      <path fill="currentColor"
                        d="M8 3.5A1.5 1.5 0 0 1 9.5 2h5A1.5 1.5 0 0 1 16 3.5v1A1.5 1.5 0 0 1 14.5 6h-5A1.5 1.5 0 0 1 8 4.5z" />
                      <path fill="currentColor" fill-rule="evenodd"
                        d="M6.25 10.5A.75.75 0 0 1 7 9.75h10a.75.75 0 0 1 0 1.5H7a.75.75 0 0 1-.75-.75m1 3.5a.75.75 0 0 1 .75-.75h8a.75.75 0 0 1 0 1.5H8a.75.75 0 0 1-.75-.75m1 3.5a.75.75 0 0 1 .75-.75h6a.75.75 0 0 1 0 1.5H9a.75.75 0 0 1-.75-.75"
                        clip-rule="evenodd" />
                    </svg>
                  </button>
                </div>
              </div>

              <div class="col-12">
                <div class="form-text mt-2">
                  You will receive outgoing transactions to this external wallet address.
                </div>
              </div>

              <div class="col-12 mt-6 add-wallet-form-row">
                <label for="addModalAssetLabel" class="form-label">
                  Label
                  <span class="text-light">(Optional)</span>
                </label>
                <div class="input-group">
                  <input type="text" class="form-control rounded" placeholder="eg. Personal"
                    aria-label="eg. Personal" id="addModalAssetLabel"
                    name="label"data-existing-labels="{{ implode(', ', $existingLabels) }}" />
                </div>
              </div>

              <div class="col-12">
                <div class="form-text mt-2">
                  You can easily identify this wallet using a custom label for it.
                </div>
              </div>

              <div class="row mt-12">
                <div class="d-flex flex-column row-gap-2">
                  <small class="d-flex text-danger gap-2">
                    <svg class="flex-shrink-0" xmlns="http://www.w3.org/2000/svg" width="20" height="20"
                      viewBox="0 0 24 24">
                      <path fill="currentColor"
                        d="M3 10.417c0-3.198 0-4.797.378-5.335c.377-.537 1.88-1.052 4.887-2.081l.573-.196C10.405 2.268 11.188 2 12 2s1.595.268 3.162.805l.573.196c3.007 1.029 4.51 1.544 4.887 2.081C21 5.62 21 7.22 21 10.417v1.574c0 5.638-4.239 8.375-6.899 9.536C13.38 21.842 13.02 22 12 22s-1.38-.158-2.101-.473C7.239 20.365 3 17.63 3 11.991z"
                        opacity=".4" />
                      <path fill="currentColor"
                        d="M12 7.25a.75.75 0 0 1 .75.75v4a.75.75 0 0 1-1.5 0V8a.75.75 0 0 1 .75-.75M12 16a1 1 0 1 0 0-2a1 1 0 0 0 0 2" />
                    </svg>
                    Please ensure you provide a correct wallet address, especially with correct blockchain network (eg.
                    TRC-20 for Tron network). Incorrect addresses may result in lost funds on the blockchain.
                  </small>
                </div>
              </div>
            </div>
          </div>
          <div class="modal-footer mt-6">
            <button type="button" class="btn btn-sm btn-label-primary" data-bs-dismiss="modal">Cancel</button>
            <button type="submit" class="btn btn-sm btn-primary px-6">Add</button>
          </div>
        </form>
      </div>
    </div>

    <!-- Manage Wallet Modal -->
    <div class="modal fade modal-lg" id="manageWalletModal" tabindex="-1" aria-labelledby="manageWalletModalTitle"
      aria-hidden="true">
      <div class="modal-dialog modal-dialog-centered" role="document">
        <form class="modal-content" method="POST" action="{{ route('update-wallet') }}" id="manageWalletForm">
          @csrf
          <div class="manage-wallet-form-row">
            <input name="symbol" type="hidden" value="" id="manageWalletModalSymbol" data-wallet-id="">
          </div>
          <div class="modal-header">
            <div class="d-flex align-items-center">
              <span class="me-3" id="manageWalletModalIcon"></span>
              <div class="d-flex flex-column">
                <h5 class="modal-title" id="manageWalletModalTitle"></h5>
                <span id="manageWalletModalSymbolLabel"></span>
              </div>
            </div>
          </div>
          <div class="modal-body">
            <div class="row">
              <div class="col-12 manage-wallet-form-row">
                <label for="manageWalletAddressInput" class="form-label required">Wallet Address</label>
                <div class="input-group required">
                  <span class="input-group-text" id="manageWalletAssetIcon">
                    <svg height="24" width="24"></svg>
                  </span>
                  <input type="text" class="form-control" placeholder="eg. TR7NHqj..." aria-label="eg. TR7NHqj..."
                    id="manageWalletAddressInput" required name="wallet_address" />
                  <button class="btn btn-label-primary border border-primary px-3" type="button"
                    id="manageWalletPasteButton" style="border-right-color: var(--bs-primary) !important;">
                    <svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 24 24">
                      <path fill="currentColor"
                        d="M21 15.998v-6c0-2.828 0-4.242-.879-5.121C19.353 4.109 18.175 4.012 16 4H8c-2.175.012-3.353.109-4.121.877C3 5.756 3 7.17 3 9.998v6c0 2.829 0 4.243.879 5.122c.878.878 2.293.878 5.121.878h6c2.828 0 4.243 0 5.121-.878c.879-.88.879-2.293.879-5.122"
                        opacity=".5" />
                      <path fill="currentColor"
                        d="M8 3.5A1.5 1.5 0 0 1 9.5 2h5A1.5 1.5 0 0 1 16 3.5v1A1.5 1.5 0 0 1 14.5 6h-5A1.5 1.5 0 0 1 8 4.5z" />
                      <path fill="currentColor" fill-rule="evenodd"
                        d="M6.25 10.5A.75.75 0 0 1 7 9.75h10a.75.75 0 0 1 0 1.5H7a.75.75 0 0 1-.75-.75m1 3.5a.75.75 0 0 1 .75-.75h8a.75.75 0 0 1 0 1.5H8a.75.75 0 0 1-.75-.75m1 3.5a.75.75 0 0 1 .75-.75h6a.75.75 0 0 1 0 1.5H9a.75.75 0 0 1-.75-.75"
                        clip-rule="evenodd" />
                    </svg>
                  </button>
                </div>
              </div>

              <div class="col-12">
                <div class="form-text mt-2">
                  You will receive outgoing transactions to this external wallet address.
                </div>
              </div>

              <div class="col-12 manage-wallet-form-row mt-6">
                <label for="manageModalAssetLabel" class="form-label">
                  Label
                  <span class="text-light">(Optional)</span>
                </label>
                <div class="input-group">
                  <input type="text" class="form-control rounded" placeholder="eg. Personal"
                    aria-label="eg. Personal" id="manageModalAssetLabel" name="label"
                    data-existing-labels="{{ implode(', ', $existingLabels) }}" />
                </div>
              </div>

              <div class="col-12">
                <div class="form-text mt-2">
                  You can easily identify this wallet using a custom label for it.
                </div>
              </div>

              <div class="col-12 manage-wallet-form-row mt-6">
                <label class="switch switch-outline">
                  <input type="checkbox" class="switch-input" id="manageWalletActiveSwitch" name="active" />
                  <span class="switch-toggle-slider">
                    <span class="switch-on"></span>
                    <span class="switch-off"></span>
                  </span>
                  <small class="switch-label" id="manageWalletActiveLabel">Active/Inactive</small>
                </label>
              </div>

              <div class="col-12">
                <div class="form-text mt-2">
                  Set this wallet address active/inactive for receiving balances
                </div>
              </div>

              <div class="row mt-12">
                <div class="d-flex flex-column row-gap-2">
                  <small class="d-flex align-items-center text-primary gap-2">
                    <svg class="flex-shrink-0" xmlns="http://www.w3.org/2000/svg" width="20" height="20"
                      viewBox="0 0 24 24">
                      <path fill="currentColor"
                        d="M3 10.417c0-3.198 0-4.797.378-5.335c.377-.537 1.88-1.052 4.887-2.081l.573-.196C10.405 2.268 11.188 2 12 2s1.595.268 3.162.805l.573.196c3.007 1.029 4.51 1.544 4.887 2.081C21 5.62 21 7.22 21 10.417v1.574c0 5.638-4.239 8.375-6.899 9.536C13.38 21.842 13.02 22 12 22s-1.38-.158-2.101-.473C7.239 20.365 3 17.63 3 11.991z"
                        opacity=".4" />
                      <path fill="currentColor"
                        d="M12 7.25a.75.75 0 0 1 .75.75v4a.75.75 0 0 1-1.5 0V8a.75.75 0 0 1 .75-.75M12 16a1 1 0 1 0 0-2a1 1 0 0 0 0 2" />
                    </svg>
                    The updated wallet address will only apply to future transactions. Previous transactions remain
                    unaffected.
                  </small>
                  <small class="d-flex text-danger gap-2">
                    <svg class="flex-shrink-0" xmlns="http://www.w3.org/2000/svg" width="20" height="20"
                      viewBox="0 0 24 24">
                      <path fill="currentColor"
                        d="M3 10.417c0-3.198 0-4.797.378-5.335c.377-.537 1.88-1.052 4.887-2.081l.573-.196C10.405 2.268 11.188 2 12 2s1.595.268 3.162.805l.573.196c3.007 1.029 4.51 1.544 4.887 2.081C21 5.62 21 7.22 21 10.417v1.574c0 5.638-4.239 8.375-6.899 9.536C13.38 21.842 13.02 22 12 22s-1.38-.158-2.101-.473C7.239 20.365 3 17.63 3 11.991z"
                        opacity=".4" />
                      <path fill="currentColor"
                        d="M12 7.25a.75.75 0 0 1 .75.75v4a.75.75 0 0 1-1.5 0V8a.75.75 0 0 1 .75-.75M12 16a1 1 0 1 0 0-2a1 1 0 0 0 0 2" />
                    </svg>
                    Please ensure you provide a correct wallet address, especially with correct blockchain network (eg.
                    TRC-20). Incorrect addresses may result in lost funds on the blockchain.
                  </small>
                </div>
              </div>
            </div>
          </div>
          <div class="modal-footer mt-6">
            <button type="button" class="btn btn-sm btn-label-danger me-auto" id="manageWalletRemoveButton">
              <svg class="me-2" xmlns="http://www.w3.org/2000/svg" width="20" height="20"
                viewBox="0 0 24 24">
                <path fill="currentColor"
                  d="M3 6.386c0-.484.345-.877.771-.877h2.665c.529-.016.996-.399 1.176-.965l.03-.1l.115-.391c.07-.24.131-.45.217-.637c.338-.739.964-1.252 1.687-1.383c.184-.033.378-.033.6-.033h3.478c.223 0 .417 0 .6.033c.723.131 1.35.644 1.687 1.383c.086.187.147.396.218.637l.114.391l.03.1c.18.566.74.95 1.27.965h2.57c.427 0 .772.393.772.877s-.345.877-.771.877H3.77c-.425 0-.77-.393-.77-.877" />
                <path fill="currentColor" fill-rule="evenodd"
                  d="M9.425 11.482c.413-.044.78.273.821.707l.5 5.263c.041.433-.26.82-.671.864c-.412.043-.78-.273-.821-.707l-.5-5.263c-.041-.434.26-.821.671-.864m5.15 0c.412.043.713.43.671.864l-.5 5.263c-.04.434-.408.75-.82.707c-.413-.044-.713-.43-.672-.864l.5-5.264c.041-.433.409-.75.82-.707"
                  clip-rule="evenodd" />
                <path fill="currentColor"
                  d="M11.596 22h.808c2.783 0 4.174 0 5.08-.886c.904-.886.996-2.339 1.181-5.245l.267-4.188c.1-1.577.15-2.366-.303-2.865c-.454-.5-1.22-.5-2.753-.5H8.124c-1.533 0-2.3 0-2.753.5s-.404 1.288-.303 2.865l.267 4.188c.185 2.906.277 4.36 1.182 5.245c.905.886 2.296.886 5.079.886"
                  opacity=".5" />
              </svg>
              Remove Wallet
            </button>
            <button type="button" class="btn btn-sm btn-label-primary" data-bs-dismiss="modal">Cancel</button>
            <button type="submit" class="btn btn-sm btn-primary px-6" id="manageWalletSubmitButton">Save</button>
          </div>
        </form>
      </div>
    </div>
  @endsection
